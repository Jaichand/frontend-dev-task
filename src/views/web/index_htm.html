<!DOCTYPE html>
<html ng-app="webYogAssignment">
  <head>
    <title>FrontEndAssignment</title>
    <link rel="stylesheet" href="/static/css/bootstrap.min.css"/>
    <link rel="stylesheet" href='/static/css/home.css'/>
    <style>
      .inbox{
          padding: 30px;
          /* width: 250;
             height: 300; */
          box-shadow:0 2px 10px 0 rgba(1,0,0,0.16),0 2px 5px 0 rgba(1,0,0,0.26);
      }
      .head{
        margin: 0 50%;
      }
    </style>
    <!-- <script type="text/javascript" src="/static/js/home.js"></script> -->
  </head>
  <body class="light-primary-color" ng-controller="webYogAPI as webCtrl">
    <div class="head"><h4>Inbox</h4>
    <i class="glyphicon glyphicon-search"><input type ="text" placeholder="Search"/></i>
    </div>
    <div class="inbox" ng-repeat = 'message in webCtrl.message' ng-click="webCtrl.showMeg(message.id)" ng-swipe-left="webCtrl.showActions = true;" ng-swipe-right="webCtrl.showActions = false;" id="message.id">
        <ul style="float:left clear:both">
          <li ng-if="message.participants.length > 1">
            <div style="float:right;">
              <i style="margin-right:8%; margin-top:0%;" class="glyphicon glyphicon-star-empty"></i> 
              <i ng-show="webCtrl.showActions" style="margin-right:8%; margin-top:100%;" class="glyphicon glyphicon-trash" ng-click="webCtrl.deletemsg(message.id, message.$$hashKey)"></i>
            </div>   
            <h3 style="display:inline" ng-repeat="name in message.participants">{{ name }} <span ng-if="$index != message.participants.length-1 ">&</span> </h3></li>
          <li ng-if="message.participants.length === 1">
          <div style="float:right;">  
            <i style="margin-right:8%; margin-top:0%;" class="glyphicon glyphicon-star-empty"></i>
            <i ng-show="webCtrl.showActions" style="margin-right:8%; margin-top:100%;" class="glyphicon glyphicon-trash" ng-click="webCtrl.deletemsg(message.id,message.$$hashKey)"></i>
          </div>  
            <h3>{{ message.participants[0]}}</h3></li>
          <li style="list-style-type:none" >{{ message.subject }}</li>
          <li style="list-style-type:none" >{{ message.preview}}</li>
        </ul>
    </div>
  </body>
  <script type="text/javascript" src="/static/js/angular.min.js"></script>
  <script type="text/javascript" src="/static/js/angular-touch.js"></script>
  <script type="text/javascript" src='/static/js/home.js'></script>
</html>